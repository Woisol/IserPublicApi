import {
  Controller,
  Get,
  Req,
  Param,
  HttpException,
  HttpStatus,
} from '@nestjs/common';
import { type Request } from 'express';
import { PushService } from '@app/apps/push/services';

@Controller('push')
export class MessagesController {
  constructor(private readonly pushService: PushService) {}

  /**
   * 根据渠道发送文本消息
   * @param channel 渠道名称
   */
  @Get(':channel/msg')
  async sendTextMessageToChannel(
    @Param('channel') channel: string,
    @Req() req: Request,
  ) {
    try {
      const content = req.query.content as string;
      if (!content) {
        throw new HttpException(
          'Content parameter is required',
          HttpStatus.BAD_REQUEST,
        );
      }

      const result = await this.pushService.sendTextMessage(content, channel);

      return {
        success: true,
        channel,
        result,
        timestamp: new Date().toISOString(),
      };
    } catch (error) {
      const message = error instanceof Error ? error.message : 'Unknown error';
      throw new HttpException(
        `Failed to send message to channel '${channel}': ${message}`,
        HttpStatus.INTERNAL_SERVER_ERROR,
      );
    }
  }

  /**
   * 根据渠道发送Markdown消息
   * @param channel 渠道名称
   */
  @Get(':channel/md')
  async sendMarkdownMessageToChannel(
    @Param('channel') channel: string,
    @Req() req: Request,
  ) {
    try {
      const content = req.query.content as string;
      if (!content) {
        throw new HttpException(
          'Content parameter is required',
          HttpStatus.BAD_REQUEST,
        );
      }

      const result = await this.pushService.sendMarkdownMessage(
        content,
        channel,
      );

      return {
        success: true,
        channel,
        result,
        timestamp: new Date().toISOString(),
      };
    } catch (error) {
      const message = error instanceof Error ? error.message : 'Unknown error';
      throw new HttpException(
        `Failed to send markdown message to channel '${channel}': ${message}`,
        HttpStatus.INTERNAL_SERVER_ERROR,
      );
    }
  }

  /**
   * 根据渠道发送图文消息
   * @param channel 渠道名称
   */
  @Get(':channel/pt')
  async sendPictureTextMessageToChannel(
    @Param('channel') channel: string,
    @Req() req: Request,
  ) {
    try {
      const title = req.query.title as string;
      const description = req.query.description as string;
      const url: string = (req.query.url as string) ?? '';
      // const picurl = req.query.picurl as string;
      const picurl =
        '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';

      const result = await this.pushService.sendNewsMessage(
        [
          {
            title,
            description,
            url,
            picurl,
          },
        ],
        channel,
      );

      return {
        success: true,
        channel,
        result,
        timestamp: new Date().toISOString(),
      };
    } catch (error) {
      const message = error instanceof Error ? error.message : 'Unknown error';
      throw new HttpException(
        `Failed to send picture text message to channel '${channel}': ${message}`,
        HttpStatus.INTERNAL_SERVER_ERROR,
      );
    }
  }
}
